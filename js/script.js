const data = [
  {
    title: "Barcellona",
    carouselImage: "images/barcelona/barcelona-slider.jpg",
    linkedInfo: [
      {
        name: "Sagrada Familia",
        image: "images/barcelona/sagrada-familia.jpg",
        text: "La Sagrada Familia è il monumento simbolo della città. Questa maestosa chiesa, capolavoro dell’architetto Antoni Gaudì, è a tutt’oggi incompiuta, e i lavori procedono molto lentamente secondo i progetti originali. Ma in gran parte è finita, e sia gli esterni che gli interni lasciano senza parole, per i loro contrasti e lo stile assolutamente unico che il Maestro ha voluto dare alla costruzione che gli ha regalato fama e onori in tutto il mondo. Da non perdere l’ascesa al campanile, da cui si ammira un panorama di Barcellona davvero mozzafiato.Dal 1914 in poi, Antoni Gaudí ha smesso di eseguire lavori civili e si è concentrato esclusivamente sulla costruzione di questo tempio. Il 30 novembre 1925 fu completata la costruzione del primo campanile della facciata della Natività. Ed è l’unico che Gaudí vide costruito, poiché il 10 giugno 1926 morì a causa di un tragico incidente avvenuto tre giorni prima, quando fu investito da un tram. Infine, la facciata della Natività fu completata nel 1930.Lo sapevi che all’interno della Sagrada Familia si trovavano le scuole per i figli dei lavoratori del tempio?Dopo la morte di Gaudí, il suo discepolo Domènec Sugrañes subentrò nella costruzione fino al 1938. Nonostante i buoni propositi, durante la guerra civile spagnola ci fu un incendio nella cripta che colpì anche le scuole provvisorie e il laboratorio dove venivano conservati tutti i progetti e i modelli lasciati da Antoni Gaudí affinché altri potessero terminare il loro lavoro. Queste informazioni non sono state recuperate interamente, quindi non vedremo mai ciò che l’architetto aveva davvero immaginato.Lo sapevi che sono serviti 22 anni per costruire la seconda facciata, quella della Passione? Fu iniziata nel 1954 e venne ultimata nel 1976. E si è cercato di avvicinarsi il più possibile a ciò che Gaudí aveva immaginato.",
      },
      {
        name: "La Rambla",
        image: "images/barcelona/la-rambla.jpg",
        text: "La Rambla è la via più famosa di Barcellona, si snoda per oltre un chilometro da Plaza Catalunya fino al mare, ed è una vera gioia per tutti e cinque i sensi. Affollatissima a ogni ora del giorno e della notte, vi si affacciano edifici e punti di interesse come il museo delle cere, il teatro Liceu o il mercato La Boqueria, davvero da non perdere. Ma il bello di passeggiare lungo la Rambla consiste nel vivere la vita all’aria aperta, ammirare gli artisti di strada o girovagare tra le bancarelle alla ricerca del souvenir perfetto. Meglio evitare invece di sedersi ai tavolini dei tapas bar o dei ristoranti, cari e di qualità mediocre.",
      },
      {
        name: "Barrio Gotico",
        image: "images/barcelona/barrio-gotico.jpg",
        text: "La zona che si trova circoscritta tra la Rambla, via Laietana, il Port Vell e Plaza Catalunya prende il nome di Barrio Gotico, o quartiere gotico in italiano. E’ un dedalo di stradine pedonali, strette e affollate dai turisti a qualsiasi ora del giorno e della notte, piene di negozi, bar e ristoranti. Molto piacevole da visitare, soprattutto perchè all’improvviso, girando un angolo si può sbucare in alcune tra le piazze più belle della città. Da non sottovalutare Placa del Pi, dove si trova l’omonima chiesa, o la bella Placa de Sant Jaime con il municipio cittadino, mentre da non perdere è la piazza della Cattedrale, su cui si affaccia questo enorme edificio di culto costruito in stile gotico, vero e proprio vanto di Barcellona.",
      },
    ],
    linkedCuriosity: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis."
  },
  {
    title: "Milano",
    carouselImage: "images/milano/milano-slider.png",
    linkedInfo: [
      {
        name: "Duomo di Milano",
        image: "images/milano/duomo.jpg",
        text: "La costruzione del Duomo di Milano inizia nel 1386 e termina nel 1965, nello stesso luogo in cui si trovava la Basilica di San Ambrogio sin dal V secolo dC. alla quale è stata aggiunta nell 836 la Basilica di Santa Tecla, distrutte entrambe da un incendio nel 1075. La costruzione della Cattedrale di Milano è iniziata sotto il comando di Gian Galeazzo Visconti con l'obiettivo di rinnovare l/'area e celebrare la politica di espansione territoriale dei Visconti.La costruzione della cattedrale si è svolta in un periodo di cinque secoli durante i quali diversi architetti, scultori e artisti hanno fatto il loro contributo professionale nella famosa 'Fabbrica del Duomo', che fu un'istituzione composta da 300 dipendenti guidata dall'architetto Simone da Orsenigo. Galeazzo concesse alla Fabbrica l'uso esclusivo del marmo della cava di Candoglia e l'esonero dal pagamento delle tasse.",
      },
      {
        name: "Museo della Scienza e della Tecnica",
        image: "images/milano/museo-scienza-tecnica.jpg",
        text: "Il Museo nazionale della scienza e della tecnologia 'Leonardo da Vinci' ha sede a Milano; aperto nel 1953, con i suoi 50.000m² complessivi è il più ampio museo tecnico-scientifico in Italia e uno dei maggiori in Europa. ",
      },
    ],
    linkedCuriosity: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit."
  },
  {
    title: "Parigi",
    carouselImage: "images/parigi/parigi-slider.jpeg",
    linkedInfo: [
      {
        name: "Champs Élysées",
        image: "images/parigi/champs-elysees.webp",
        text: "Lavenue degli Champs-Elysées costituisce una delle passeggiate più celebri al mondo ma anche uno dei luoghi della capitale francese che maggiormente hanno perso l’eleganza e il fascino d’un tempo, trasformandosi in un’area votata al consumismo e all’apparenza.Questa lunga strada si divide in due parti, quella prossima alla place de la Concorde è caratterizzata da giardini che ospitano quattro ristoranti (Ledoyen, Laurent, Gabriel, Elysées-Lenôtre), due teatri (Marigny e Rond-Point) ed un padiglione dedicato a ristorazione e spettacolo (Espace Cardin). A partire dalla rotonda chiamata del Rond-Point, importante snodo del traffico in questa zona di Parigi, lo scenario cambia e inizia un défilé di palazzi, ristoranti e negozi. In questa zona, si trovano boutique d’alta moda, eleganti saloni d’automobili, diversi cinema e il famoso Lido, uno dei più celebri cabaret parigini.",
      },
      {
        name: "Tour Eiffel",
        image: "images/parigi/tour-eiffel.jpg",
        text: "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro quisquam rerum magni eos excepturi voluptas sit eum velit culpa numquam eius libero facilis inventore, cumque sequi ab saepe veniam quia.Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio expedita sint blanditiis impedit? Incidunt blanditiis dolores quae in consequatur dolorum vitae totam, perferendis nulla labore adipisci impedit obcaecati ipsam quis?Lorem ipsum dolor sit amet consectetur, adipisicing elit. Debitis, delectus perspiciatis blanditiis minus voluptas cumque cum aperiam. Omnis minima quaerat, alias fugit laboriosam vel nemo tempora dolorem nam. Deleniti, ipsum.",
      },
    ],
    linkedCuriosity: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis."
  },
  // ------------------------------------------------------------------------------
  {
    title: "Hong Kong",
    carouselImage: "images/hong-kong/hong-kong-slider.webp",
    linkedInfo: [
      {
        name: "Hong Kong",
        image: "images/hong-kong/hong-kong-slider.webp",
        text: "Lavenue degli Champs-Elysées costituisce una delle passeggiate più celebri al mondo ma anche uno dei luoghi della capitale francese che maggiormente hanno perso l’eleganza e il fascino d’un tempo, trasformandosi in un’area votata al consumismo e all’apparenza.Questa lunga strada si divide in due parti, quella prossima alla place de la Concorde è caratterizzata da giardini che ospitano quattro ristoranti (Ledoyen, Laurent, Gabriel, Elysées-Lenôtre), due teatri (Marigny e Rond-Point) ed un padiglione dedicato a ristorazione e spettacolo (Espace Cardin). A partire dalla rotonda chiamata del Rond-Point, importante snodo del traffico in questa zona di Parigi, lo scenario cambia e inizia un défilé di palazzi, ristoranti e negozi. In questa zona, si trovano boutique d’alta moda, eleganti saloni d’automobili, diversi cinema e il famoso Lido, uno dei più celebri cabaret parigini.",
      },
      {
        name: "Hong Kong",
        image: "images/hong-kong/hong-kong-slider.webp",
        text: "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro quisquam rerum magni eos excepturi voluptas sit eum velit culpa numquam eius libero facilis inventore, cumque sequi ab saepe veniam quia.Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio expedita sint blanditiis impedit? Incidunt blanditiis dolores quae in consequatur dolorum vitae totam, perferendis nulla labore adipisci impedit obcaecati ipsam quis?Lorem ipsum dolor sit amet consectetur, adipisicing elit. Debitis, delectus perspiciatis blanditiis minus voluptas cumque cum aperiam. Omnis minima quaerat, alias fugit laboriosam vel nemo tempora dolorem nam. Deleniti, ipsum.",
      },
    ],
    linkedCuriosity: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis."
  },
  {
    title: "Los Angeles",
    carouselImage: "images/los-angeles/los-angeles-slider.jpg",
    linkedInfo: [
      {
        name: "Los Angeles",
        image: "images/los-angeles/los-angeles-slider.jpg",
        text: "Lavenue degli Champs-Elysées costituisce una delle passeggiate più celebri al mondo ma anche uno dei luoghi della capitale francese che maggiormente hanno perso l’eleganza e il fascino d’un tempo, trasformandosi in un’area votata al consumismo e all’apparenza.Questa lunga strada si divide in due parti, quella prossima alla place de la Concorde è caratterizzata da giardini che ospitano quattro ristoranti (Ledoyen, Laurent, Gabriel, Elysées-Lenôtre), due teatri (Marigny e Rond-Point) ed un padiglione dedicato a ristorazione e spettacolo (Espace Cardin). A partire dalla rotonda chiamata del Rond-Point, importante snodo del traffico in questa zona di Parigi, lo scenario cambia e inizia un défilé di palazzi, ristoranti e negozi. In questa zona, si trovano boutique d’alta moda, eleganti saloni d’automobili, diversi cinema e il famoso Lido, uno dei più celebri cabaret parigini.",
      },
      {
        name: "Los Angeles",
        image: "images/los-angeles/los-angeles-slider.jpg",
        text: "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro quisquam rerum magni eos excepturi voluptas sit eum velit culpa numquam eius libero facilis inventore, cumque sequi ab saepe veniam quia.Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio expedita sint blanditiis impedit? Incidunt blanditiis dolores quae in consequatur dolorum vitae totam, perferendis nulla labore adipisci impedit obcaecati ipsam quis?Lorem ipsum dolor sit amet consectetur, adipisicing elit. Debitis, delectus perspiciatis blanditiis minus voluptas cumque cum aperiam. Omnis minima quaerat, alias fugit laboriosam vel nemo tempora dolorem nam. Deleniti, ipsum.",
      },
    ],
    linkedCuriosity: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis.Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum adipisci reprehenderit veritatis laborum temporibus esse illum saepe? Sit doloremque ipsum repellat qui distinctio a vitae veritatis itaque cupiditate, blanditiis debitis."
  },
];

// CAROUSEL PRINCIPALE E SUOI CONTROLLI
const itemsContainer  = document.querySelector('.carousel-items');
const thumbsContainer = document.getElementsByClassName('carousel-thumbs')[0];
let currentSlide = 0; // ci posizioniamo sulla prima slide

// creiamo gli items per lo slider principale
createItems();
// creiamo le thumbnails delle immagini dello slider principale
createThumbnails();

// aggiungiamo la possibilità di cambiare immagine cliccando sopra la sua thumb
const carouselThumbs = document.querySelectorAll('.carousel-thumb');

carouselThumbs.forEach((item, index) => {
  item.addEventListener('click', function() {
    currentSlide = index;
    changeActive(currentSlide);
    // per riportare la slide linkata alla prima immagine se cambiamo l'immagine nel carousel principale
    resetCurrentLinkedSlide();
    // per cambiare anche lo slider linkato
    createLinkedItems();
    // crea i dots nello slider linkato
    createLinkedSliderDots();
    // per aggiungere l'event listener ai dots dello slider linkato
    addEventListenerToDots();
    // per cambiare il testo dello slider linkato
    changeLinkedText(currentSlide, currentLinkedSlide);
    // per cambiare le curiosità linkate all'immagine principale
    changeLinkedCuriosity(currentSlide);
  });
});

// Slide precedente
document.querySelector('.prev').addEventListener('click', function() {

  // se sono alla prima, mi posiziono sull'ultima
  if (currentSlide == 0) {
    currentSlide = data.length - 1; // ultima
  } else {
    currentSlide--; // precedente
  };

  // console.log('Prev', currentSlide);
  changeActive(currentSlide);
  // per riportare la slide linkata alla prima immagine se cambiamo l'immagine nel carousel principale
  resetCurrentLinkedSlide();
  // per cambiare anche lo slider linkato
  createLinkedItems();
  // crea i dots nello slider linkato
  createLinkedSliderDots();
  // per cambiare il testo dello slider linkato
  changeLinkedText(currentSlide, currentLinkedSlide);
  // per cambiare le curiosità linkate all'immagine principale
  changeLinkedCuriosity(currentSlide);
  // per aggiungere l'event listener ai dots dello slider linkato
  addEventListenerToDots();
});

// Slide successiva
document.querySelector('.next').addEventListener('click', function() {

  // se sono all'ultima, mi posiziono sulla prima
  if (currentSlide == data.length - 1) {
    currentSlide = 0; // prima
  } else {
    currentSlide++; // successiva
  };

  // console.log('Next', currentSlide);
  changeActive(currentSlide);
  // per riportare la slide linkata alla prima immagine se cambiamo l'immagine nel carousel principale
  resetCurrentLinkedSlide();
  // per cambiare anche lo slider linkato
  createLinkedItems();
  // per cambiare il testo dello slider linkato
  changeLinkedText(currentSlide, currentLinkedSlide);
  // per cambiare le curiosità linkate all'immagine principale
  changeLinkedCuriosity(currentSlide);
  // crea i dots nello slider linkato
  createLinkedSliderDots();
  // per aggiungere l'event listener ai dots dello slider linkato
  addEventListenerToDots();
});
// --- FINE CAROUSEL PRINCIPALE ---

// LINKED CAROUSEL E SUOI CONTROLLI
const linkedItemsContainer = document.querySelector('.linked-carousel-items');
let currentLinkedSlide = 0;

// creaimo lo slider linkato
createLinkedItems();
// per creare tanti dot quante sono le slide del carousel linkato all'immagine del carousel principale
createLinkedSliderDots();
// agiunge l'event listener ai dots permettendo di cambiare immagine al click sul dot corrispondente
addEventListenerToDots();

// Slide linkata precedente
document.querySelector('.linked-prev').addEventListener('click', function() {

  // se sono alla prima, mi posiziono sull'ultima
  if (currentLinkedSlide == 0) {
    currentLinkedSlide = (data[currentSlide].linkedInfo.length) - 1; // ultima
  } else {
    currentLinkedSlide--; // precedente
  };

  changeLinkedActive(currentLinkedSlide);
  // per cambiare il testo dello slider linkato
  changeLinkedText(currentSlide, currentLinkedSlide);
  // per cambiare il dot attivo
  changeLinkedActiveDot(currentLinkedSlide);
});

// Slide linkata successiva
document.querySelector('.linked-next').addEventListener('click', function() {

  // se sono all'ultima, mi posiziono sulla prima
  if (currentLinkedSlide == (data[currentSlide].linkedInfo.length) - 1) {
    currentLinkedSlide = 0; // prima
  } else {
    currentLinkedSlide++; // successiva
  };

  changeLinkedActive(currentLinkedSlide);
  // per cambiare il testo dello slider linkato
  changeLinkedText(currentSlide, currentLinkedSlide);
  // per cambiare il dot attivo
  changeLinkedActiveDot(currentLinkedSlide);
});

// LINKED CAROUSEL - TITOLO E TESTO PER L'IMMAGINE VISULAIZZATA
const linkedTextContainer = document.querySelector('.linked-text-container');

changeLinkedText(currentSlide, currentLinkedSlide);

// LINKED CURIOSITY PER L'IMMAGINE PRINCIPALE VISUALIZZATA
const linkedCuriosityText = document.querySelector('.linked-curiosity-text');

changeLinkedCuriosity(currentSlide);


// ----- FUNZIONI -----

// FUNZIONI DELLO SLIDER PRINCIPALE
// creiamo le slides
function createItems() {
  for (let i = 0; i < data.length; i++) {
    let elem = data[i];

    // aggiungiamo la classe active alla prima slide (currentSlide = 0)
    let firstActive = '';
    if (i == currentSlide) {
      firstActive = 'active';
    };

    itemsContainer.innerHTML +=
    `<div class="carousel-item ${firstActive}">
        <img src="${elem.carouselImage}" alt="${elem.title}">
        <div class="text">
            <h3>${elem.title}</h3>
        </div>
    </div>`;
  };
};

// creiamo le thumbnails
function createThumbnails() {

  for (let i = 0; i < data.length; i++) {
    let elem = data[i];

    // aggiungiamo la classe active alla prima thumbnail (currentSlide = 0)
    let firstActive = '';
    if (i == currentSlide) {
      firstActive = 'active';
    }

    thumbsContainer.innerHTML +=
    `<div class="carousel-thumb ${firstActive}">
    <img src="${elem.carouselImage}" alt="${elem.title}">
    </div>`;
  };
};

// togliere la classe active dalla slide attuale e posizionarla alla successiva
function changeActive(index) {

  // togliamo la classe active dall'item
  document.querySelector('.carousel-item.active').classList.remove('active');
  document.querySelector('.carousel-thumb.active').classList.remove('active');

  // aggiungiamo la classe active all'item corrente
  document.querySelectorAll('.carousel-item')[index].classList.add('active');
  document.querySelectorAll('.carousel-thumb')[index].classList.add('active');
};

// FUNZIONI DELLO SLIDER LINKATO
// creiamo lo slider linkato all'immagine principale
function createLinkedItems() {
  
  let linkedItems = data[currentSlide].linkedInfo;

  linkedItemsContainer.innerHTML = '';

  linkedItems.forEach((item, index) => {
    // aggiungiamo la classe active alla prima slide (currentLinkedSlide = 0)
    let firstActive = '';
    if (index == currentLinkedSlide) {
      firstActive = 'active';
    };

    linkedItemsContainer.innerHTML += `
      <div class="linked-carousel-item ${firstActive}">
        <img src="${item.image}" alt="${item.name}">
      </div>
    `;
  });
};

// togliere/mettere la classe active alla slide linkata precedente/successiva
function changeLinkedActive(index) {

  // togliamo la classe active dall'item
  document.querySelector('.linked-carousel-item.active').classList.remove('active');

  // aggiungiamo la classe active all'item corrente
  document.querySelectorAll('.linked-carousel-item')[index].classList.add('active');
};

// stampiamo titolo e testo relativo all'immagine active nel linked carousel
function changeLinkedText(index, linkedIndex) {
  let linkedText = data[index].linkedInfo[linkedIndex];

  linkedTextContainer.innerHTML = '';

  linkedTextContainer.innerHTML = `
    <h3 class="title">${ linkedText.name }</h3>
    <div class="paragraph-container">
      <p class="paragraph">${ linkedText.text }</p>
    </div>
  `;
};

// stampiamo le curiosità legate all'immagine/luogo dell'immagine active nel carousel principale
function changeLinkedCuriosity(index) {
  let linkedCuriosity = data[index].linkedCuriosity;

  linkedCuriosityText.innerHTML = '';

  linkedCuriosityText.innerHTML = `
  <p class="paragraph">${ linkedCuriosity }</p>
  `;
};


function createLinkedSliderDots() {
  const dotsContainer = document.querySelector('.dots-container');
  const numberOfDots = data[currentSlide].linkedInfo.length;

  dotsContainer.innerHTML = '';
  
  for (let i = 0; i < numberOfDots; i++) {

    let firstActiveDot = '';
    if (i == currentLinkedSlide) {
      firstActiveDot = 'active-dot';
    };

    dotsContainer.innerHTML += `
    <div class="dot ${ firstActiveDot }"></div>
    `;
  }
};

// per cambiare il dot attivo nello slider linkato
function changeLinkedActiveDot(index) {
  
  // togliamo la classe active dal dot
  document.querySelector('.dot.active-dot').classList.remove('active-dot');

  // aggiungiamo la classe active al dot corrente
  document.querySelectorAll('.dot')[index].classList.add('active-dot');
};

// per riportare la slide linkata alla prima immagine se cambiamo l'immagine nel carousel principale
function resetCurrentLinkedSlide() {
  currentLinkedSlide = 0;
}

// aggiungiamo la possibilità di cambiare la slide linkata al click sul dot corrispondente
function addEventListenerToDots() {
  let linkedCarouselDots = document.querySelectorAll('.dot');

  linkedCarouselDots.forEach((item, index) => {
    item.addEventListener('click', function() {
      changeLinkedActive(index);
      changeLinkedActiveDot(index);
      // per cambiare il testo dello slider linkato
      changeLinkedText(currentSlide, index);
      // altrimenti current slide rimane alla slide precedente perchè cambia al click su linked prev/next
      currentLinkedSlide = index;
    });
  });
};



// ------------------------------------------------------------------------------
changeVisiblesThumbs();
// prova per far scorrere lo slider
function changeVisiblesThumbs() {
  let totalVisibleThumbs = document.querySelectorAll('.carousel-thumb');
  console.log(totalVisibleThumbs);
};